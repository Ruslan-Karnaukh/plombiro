{"mappings":"YAKqB,IAQrB,W,IAAwBA,EAAAC,UAAAC,OAAA,YAAAD,UAAA,GAAiCA,UAAA,GAAF,GAAEE,EAAjCH,EAACI,cAAM,IAAAD,EAAG,EAACA,EAAAE,EAAXL,EAAaM,gBAAQ,IAAAD,EAAG,IAAGA,E,OAE/CE,KAAKH,OAASA,EACdG,KAAKD,SAAWA,EAKjB,IAAME,EAAS,CACdC,UAAW,SAAAC,GACT,OAAOA,EAAI,GAAM,EAAIA,EAAIA,GAAU,EAAI,EAAIA,GAAKA,EAAnB,C,EAE/BC,WAAY,SAAAD,GACV,OAAOA,EAAI,GAAM,EAAIA,EAAIA,EAAIA,GAAKA,EAAI,IAAM,EAAIA,EAAI,IAAM,EAAIA,EAAI,GAAK,C,EAEzEE,WAAY,SAAAF,GACV,OAAOA,EAAI,GAAM,EAAIA,EAAIA,EAAIA,EAAIA,EAAI,EAAI,IAAMA,EAAIA,EAAIA,EAAIA,C,EAE7DG,WAAY,SAAAH,GACV,OAAOA,EAAI,GAAM,GAAKA,EAAIA,EAAIA,EAAIA,EAAIA,EAAI,EAAI,KAAOA,EAAIA,EAAIA,EAAIA,EAAIA,C,GAKjEI,EAAW,W,OAAMC,MAAMC,UAAUC,MAAMC,KAAKC,SAASC,qBAAqB,K,EAE1EC,EAAU,SAAAC,G,OAAiD,IAAxCA,EAAKC,MAAQD,EAAKC,KAAKC,QAAQ,K,EAElDC,EAAYX,IAAWY,QAAO,SAAAJ,G,OAAQD,EAAQC,E,IAE9CK,EAAa,SAAAL,G,OAAQA,EAAMM,UAAYC,OAAOC,SAASF,UAAa,IAAON,EAAKM,UAAYC,OAAOC,SAASF,UAAcN,EAAKS,QAAUD,SAASC,M,EAElJC,EAAgBP,EAAUC,QAAO,SAAAJ,G,OAAQK,EAAWL,E,IAEpDW,EAAW,SAACC,GAChB,IAEMC,EAAWD,EAAGE,aAAa,QAC3BC,EAAelB,SAASmB,cAAcH,GAEtCI,EAAeF,EAAaD,aAAa,sBAE/ChC,EAASmC,GAA8BC,EAAKpC,OAE5C,IATsBqC,EAShBC,GATgBD,EASUJ,EATJM,KAAKC,MAAMH,EAAGI,wBAAwBC,MAW5DC,EAAoBlB,OAAOmB,aAAe7B,SAAS8B,gBAAgBC,UAEnEC,EAAOJ,EACPK,EAAKL,EAAoBL,EAAYtC,EAGvCiD,GAAO,EACPC,EAAQ,KASNC,EAAY,SAAAC,GAChB,GAAIH,EAIF,OAHAlC,SAAS8B,gBAAgBC,UAAYE,EACrCf,EAAaoB,aACb5B,OAAO6B,QAAQC,UAAU,GAAI,GAAIxB,IAG/BgB,GAAQC,GAAMI,EAAOF,GAAShD,KAAU+C,GAAO,GACnD,IAAMO,GAAYJ,EAAOF,GAAShD,EAC5BuD,EAAMrD,EAAOI,WAAWgD,GACxBE,EAAgBX,GAAQC,EAAKD,GAAQU,EAC3C1C,SAAS8B,gBAAgBC,UAAYY,EACrCC,sBAAsBR,E,EAGxBQ,uBArBkB,SAAAP,IAChBF,EAAQE,GACMlD,EACdiD,EAAUC,E,KAsBdrC,SAAS6C,iBAAiB,SAAS,SAAAC,GACjC,IAAMC,EAAYlC,EAAcN,QAAO,SAAAJ,G,OAAQ2C,EAAEE,SAAW7C,C,IAAM,GAC/D4C,IACDD,EAAEG,iBACFnC,EAASiC,G,IA7FI,CAAmB,CACtC9D,OAAQ,GACRE,SAAU,MAIZ+D,QAAQC,IAAI,mB","sources":["src/js/scroll-anchors.js"],"sourcesContent":["\n//  TODO: check if maximum page scroll has been exceeded and scroll tot hat point instead of trying to scroll past it.\n\n// TODO: Simplify the easing setup. Perhaps use them as an optional import to keep main lib small.\n\nconst smoothScroll = new ScrollToAnchor({\n  offset: 70,\n  duration: 1000,\n});\n\n\nconsole.log('Index.js file ðŸ˜Ž');\n\nfunction ScrollToAnchor({offset = 0, duration = 800} = {}) {\n\n    this.offset = offset;\n    this.duration = duration;\n  \n    /* \n    Easing functions\n    */\n   const easing = {\n    inOutQuad: t => {\n      return t < 0.5 ? 2 * t * t : -1 + (4 - 2 * t) * t;\n    },\n    inOutCubic: t => {\n      return t < 0.5 ? 4 * t * t * t : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1;\n    },\n    inOutQuart: t => {\n      return t < 0.5 ? 8 * t * t * t * t : 1 - 8 * --t * t * t * t;\n    },\n    inOutQuint: t => {\n      return t < 0.5 ? 16 * t * t * t * t * t : 1 + 16 * --t * t * t * t * t;\n    },\n  };\n  \n    \n    const allLinks = () => Array.prototype.slice.call(document.getElementsByTagName('a'));\n  \n    const hasHash = link => (link.href && link.href.indexOf('#')) != -1;\n  \n    const hashLinks = allLinks().filter(link => hasHash(link) );\n  \n    const isSamePage = link => (link.pathname == window.location.pathname) || ('/' + link.pathname == window.location.pathname) && (link.search == location.search);\n  \n    const samePageLinks = hashLinks.filter(link => isSamePage(link));\n  \n    const scrollTo = (el) => {\n      const distanceToTop = el => Math.floor(el.getBoundingClientRect().top);\n  \n      const targetID = el.getAttribute('href');\n      const targetAnchor = document.querySelector(targetID);\n  \n      const customOffset = targetAnchor.getAttribute('data-anchor-offset');\n  \n      offset = customOffset ? customOffset : this.offset;\n      \n      const anchorTop = distanceToTop(targetAnchor);\n  \n      const pageCurrentScroll = window.pageYOffset || document.documentElement.scrollTop;\n  \n      const from = pageCurrentScroll;\n      const to = pageCurrentScroll + anchorTop - offset;\n  \n      // flags for animation loop\n      let stop = false;\n      let start = null;\n      let end = null;\n  \n      const startAnim = time => {\n        start = time;\n        end = start + duration;\n        nextFrame(time);\n      };\n    \n      const nextFrame = time => {\n        if (stop) {\n          document.documentElement.scrollTop = to;\n          targetAnchor.focus();\n          window.history.pushState('', '', targetID);\n          return;\n        }\n        if (from == to || time - start >= duration) stop = true;\n        const progress = (time - start) / duration;\n        const val = easing.inOutQuart(progress);\n        const nextPosition = (from + (to - from) * val);\n        document.documentElement.scrollTop = nextPosition;\n        requestAnimationFrame(nextFrame);\n      };\n    \n      requestAnimationFrame(startAnim);\n    };\n  \n    // deferred click listener on the body\n    document.addEventListener('click', e => {\n      const validLink = samePageLinks.filter(link => e.target === link)[0];\n      if(validLink) {\n        e.preventDefault();\n        scrollTo(validLink);\n      }\n    });\n  \n  };\n  \n"],"names":["ref","arguments","length","_offset","offset","_duration","duration","this","easing","inOutQuad","t","inOutCubic","inOutQuart","inOutQuint","allLinks","Array","prototype","slice","call","document","getElementsByTagName","hasHash","link","href","indexOf","hashLinks","filter","isSamePage","pathname","window","location","search","samePageLinks","scrollTo","el1","targetID","getAttribute","targetAnchor","querySelector","customOffset","_this","el","anchorTop","Math","floor","getBoundingClientRect","top","pageCurrentScroll","pageYOffset","documentElement","scrollTop","from","to","stop","start","nextFrame","time","focus","history","pushState","progress","val","nextPosition","requestAnimationFrame","addEventListener","e","validLink","target","preventDefault","console","log"],"version":3,"file":"index.e14bd5b5.js.map"}